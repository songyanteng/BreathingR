<!DOCTYPE html>
<html>
  <head>
    <title>Breathing Algorithm</title>
    <script defer src="algorithm.js"></script>
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <div id="intro">
      <div class="introHeading">
        Welcome to the Breath Mindfulness Application!
      </div>
      <div class="introText">
        Thank you for your interest in participating in this study. You will be
        completing a three-minute breathing exercise and filling out a related
        questionnaire (linked on the next page). Here are some guidelines to
        help you with the process:
        <br /><br /><br />
        1. You will be asked to select your preferred inhalation, hold, and
        exhalation durations on the next page <br /><br />
        2. Set the length of each duration such that you feel that you are able
        to fill your lungs with air (not too short), but also ensure that you do
        not feel significant fatigue (not too long) <br /><br />
        3. Fill out the first five questions of the questionnaire <br /><br />
        4. Click the "Confirm" button
        <br /><br />
        5. Click the "Start Microphone" button, and allow microphone access
        <br /><br />
        5. Complete the three-minute breathing exercise <br /><br />
        6. Fill out the remaining questions of the questionnaire
        <br /><br /><br />
        Hope you enjoy the exercise :)
      </div>
      <input
        type="button"
        style="padding: 10px 23px; font-size: 20px; cursor: pointer"
        id="confirmIntro"
        onClick="showMain()"
        value="I Understand"
      />
    </div>
    <div id="main">
      <div id="selection">
        <div class="selectInhale">
          <div class="dropdownText">
            <p class="large">Inhalation Duration (seconds):</p>
          </div>
          <div class="dropdown">
            <button
              onclick="showDropdown('inhaleOptions')"
              class="dropbtn"
              id="inhalebtn"
            >
              4
            </button>
            <div id="inhaleOptions" class="dropdown-content">
              <p class="drop" onclick="registerEvent(2, 'inhale')">2</p>
              <p class="drop" onclick="registerEvent(3, 'inhale')">3</p>
              <p class="drop" onclick="registerEvent(4, 'inhale')">4</p>
            </div>
            <span class="help">
              ❓
              <span class="helpTooltip">
                Select your most comfortable inhalation length (in seconds) for
                each deep breathing cycle
              </span>
            </span>
          </div>
        </div>
        <div class="selectHold">
          <div class="dropdownText">
            <p class="large">Hold Duration (seconds):</p>
          </div>
          <div class="dropdown">
            <button
              onclick="showDropdown('holdOptions')"
              class="dropbtn"
              id="holdbtn"
            >
              7
            </button>
            <div id="holdOptions" class="dropdown-content">
              <p class="drop" onclick="registerEvent(2, 'hold')">2</p>
              <p class="drop" onclick="registerEvent(3, 'hold')">3</p>
              <p class="drop" onclick="registerEvent(4, 'hold')">4</p>
              <p class="drop" onclick="registerEvent(5, 'hold')">5</p>
              <p class="drop" onclick="registerEvent(6, 'hold')">6</p>
              <p class="drop" onclick="registerEvent(7, 'hold')">7</p>
              <p class="drop" onclick="registerEvent(8, 'hold')">8</p>
            </div>
            <span class="help">
              ❓
              <span class="helpTooltip">
                Select your most comfortable hold length (in seconds) for each
                deep breathing cycle
              </span>
            </span>
          </div>
        </div>
        <div class="selectExhale">
          <div class="dropdownText">
            <p class="large">Exhalation Duration (seconds):</p>
          </div>
          <div class="dropdown">
            <button
              onclick="showDropdown('exhaleOptions')"
              class="dropbtn"
              id="exhalebtn"
            >
              8
            </button>
            <div id="exhaleOptions" class="dropdown-content">
              <p class="drop" onclick="registerEvent(4, 'exhale')">4</p>
              <p class="drop" onclick="registerEvent(5, 'exhale')">5</p>
              <p class="drop" onclick="registerEvent(6, 'exhale')">6</p>
              <p class="drop" onclick="registerEvent(7, 'exhale')">7</p>
              <p class="drop" onclick="registerEvent(8, 'exhale')">8</p>
            </div>
            <span class="help">
              ❓
              <span class="helpTooltip">
                Select your most comfortable exhalation length (in seconds) for
                each deep breathing cycle
              </span>
            </span>
          </div>
        </div>
        <div class="instructions">
          Please complete the first five questions in this form before beginning
          the exercise, and the remaining questions after the exercise. You will
          need to signed in using your University of Auckland email:
          <br />
          <br />
          <a href="https://forms.gle/Ks4BWETFvYVykA1c6" target="_blank"
            >https://forms.gle/Ks4BWETFvYVykA1c6</a
          >
        </div>
      </div>
      <div id="wrapper">
        <canvas id="circlecanvas" width="1000" height="1000"></canvas>
        <canvas id="circlecanvas2" width="1000" height="1000"></canvas>
      </div>
      <div id="buttons">
        <input
          type="button"
          style="padding: 10px 23px; font-size: 20px; cursor: pointer"
          id="startButton"
          onClick="startAlgo()"
          value="Start Microphone"
        />
        <input
          type="button"
          style="padding: 10px 23px; font-size: 20px; cursor: pointer"
          id="stopButton"
          onClick="stopAlgo()"
          value="Stop Microphone"
        />
        <input
          type="button"
          style="padding: 10px 23px; font-size: 20px; cursor: pointer"
          id="confirmButton"
          onClick="enableButtons()"
          value="Confirm"
        />
      </div>
    </div>
  </body>
</html>
